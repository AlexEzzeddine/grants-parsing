<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="styles/librarys-concat.css">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="scripts/all-customs.js" type="text/javascript"></script>
    <script src="scripts/all-librarys.js" type="text/javascript"></script>
    <script>$.jgrid.defaults.width = 580;</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <meta charset="UTF-8">
    <title>jQuery Grid Plugin – jqGrid</title></head>
<body>
<br>
<br>
<h1>jQuery Grid Plugin – jqGrid</h1>
<br>
<br>


<table id="jqGrid"></table>
<div id="jqGridPager"></div>
<script type="text/javascript">


    $(document).ready(function () {

        $("#jqGrid").jqGrid({
            url: 'data.json',
            datatype: "json",
            colModel: [
                {label: 'Date', name: 'Date', width: 120, sorttype: 'number'},
                {label: 'Type', name: 'Type', width: 120},
                {label: 'Source', name: 'Source', width: 150, formatter: 'link', editable: false},
                {label: 'Title', name: 'Title', width: 120},
                {label: 'Content prewiew', name: 'Prewiew', width: 400},
                {label: 'Contacts', name: 'Contacts', width: 150},
                {
                    label: 'Actions', name: 'Actions', width: 170,
                    editable: true,
                    edittype: "select",
                    editoptions: {
                        dataUrl: "actions.txt",
                        cacheUrlData: true,
                        buildSelect: function (data) {
                            var data = data.split(";"), i = 0, len = data.length, s = '<select>', d;
                            while (i < len) {
                                d = data[i].split(":");
                                s += '<option>' + d[0] + '</option>';
                                i++;
                            }
                            s += '</select>';
                            return s;
                        }
                    }
                }

            ],
            onSelectRow: editRow, // the javascript function to call on row click. will ues to to put the row in edit mode
            viewrecords: true, // show the current page, data rang and total records on the toolbar
            width: 850,
            height: 400,
            rowNum: 7,
            loadonce: true, // this is just for the demo
            pager: "#jqGridPager"
        });

        var lastSelection;

        function editRow(id) {
            if (id && id !== lastSelection) {
                var grid = $("#jqGrid");
                grid.jqGrid('restoreRow', lastSelection);
                grid.jqGrid('editRow', id, {keys: true, focusField: 4});
                lastSelection = id;
            }
        }
    });

</script>


</body>
</html>